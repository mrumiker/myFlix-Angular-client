<!-- The Main View of the app. Movie cards show Title, Director, and Movie poster, with links for more information and Button to add movie to user's favorites -->
<app-nav-bar></app-nav-bar>

<div style="display: flex; margin-top: 40px;">
  <mat-card *ngFor="let movie of movies;" style="flex: 1 1 auto;  z-index: -1;">
    <mat-card-header>
      <mat-card-title>{{movie.Title}}</mat-card-title>
      <mat-card-subtitle>Directed by: {{movie.Director.Name}}</mat-card-subtitle>
    </mat-card-header>
    <img src={{movie.ImagePath}} alt={{movie.Title}} width="280px" />
    <mat-card-actions>
      <button mat-button color="primary" (click)="openGenre(movie.Genre.Name, movie.Genre.Description)">
        Genre
      </button>
      <button mat-button color="primary"
        (click)="openDirector(movie.Director.Name, movie.Director.Bio, movie.Director.Birth, movie.Director.Death)">
        Director
      </button>
      <button mat-button color="primary" (click)="openSynopsis(movie.Title, movie.Description, movie.ImagePath)">
        Synopsis
      </button>

      <button *ngIf="displayFavesButton(movie._id);" mat-icon-button color="warn" (click)="deleteFavorite(movie._id)"
        matTooltip="Delete {{movie.Title}} from your Favorites" matTooltipPosition="right">
        <mat-icon>favorite_border</mat-icon>
      </button>
      <button *ngIf="!displayFavesButton(movie._id);" mat-icon-button (click)="addFavorite(movie._id)"
        matTooltip="Add {{movie.Title}} to your Favorites" matTooltipPosition="right">
        <mat-icon>favorite_border</mat-icon>
      </button>

      <!-- <ng-template #addFave>
        <button mat-icon-button (click)="addFavorite(movie._id)" matTooltip="Add {{movie.Title}} to your Favorites"
          matTooltipPosition="right">
          <mat-icon>favorite_border</mat-icon>
        </button>
      </ng-template> -->

    </mat-card-actions>
  </mat-card>
</div>